<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="uft-8">
    <meta name="viewport" content="width=deveice-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="hymain.css">
    <!-- <link type="text/javascript" src="hy.js"> -->
    <title>Pizza Creator</title>
</head>
<script>
    const toppings = {
        "Anchovy": {
            labelImage: './assets/toppings/anchovy.svg',
            contentImage: './assets/toppings/anchovies.svg'
        },
        "Bacon": {
            labelImage: './assets/toppings/bacon.svg',
            contentImage: './assets/toppings/bacons.svg'
        },
        "Basil": {
            labelImage: './assets/toppings/basil.svg',
            contentImage: './assets/toppings/basils.svg'
        },
        "Chili": {
            labelImage: './assets/toppings/chili.svg',
            contentImage: './assets/toppings/chilies.svg'
        },
        "Mozzarella": {
            labelImage: './assets/toppings/mozzarella.svg',
            contentImage: './assets/toppings/mozzarellas.svg'
        },
        "Mushroom": {
            labelImage: './assets/toppings/mushroom.svg',
            contentImage: './assets/toppings/mushrooms.svg'
        },
        "Olive": {
            labelImage: './assets/toppings/olive.svg',
            contentImage: './assets/toppings/olives.svg'
        },
        "Onion": {
            labelImage: './assets/toppings/onion.svg',
            contentImage: './assets/toppings/onions.svg'
        },
        "Pepper": {
            labelImage: './assets/toppings/pepper.svg',
            contentImage: './assets/toppings/peppers.svg'
        },
        "Pepperoni": {
            labelImage: './assets/toppings/pepperoni.svg',
            contentImage: './assets/toppings/pepperonis.svg'
        },
        "Peppers": {
            labelImage: './assets/toppings/peppers.svg',
            contentImage: './assets/toppings/pepperss.svg'
        },
        "Sweetcorn": {
            labelImage: './assets/toppings/sweetcorn.svg',
            contentImage: './assets/toppings/sweetcorns.svg'
        }
    }

    function addToppings(name, labelImage, contentImage, toppings) {
        toppings[name] = {
            labelImage: labelImage,
            contentImage: contentImage
        }
        return toppings
    }

    function initializeToppingsChoiceForm() {
        const toppingsChoiceForm = document.getElementById('toppingsChoiceForm');
        for (var n in toppings) {
            if (toppings.hasOwnProperty(n)) {
                //debugger;
                var img = document.createElement('img');
                img.src = toppings[n].labelImage;
                img.alt = n;

                var span = document.createElement('span');
                span.innerText = n;

                var btn = document.createElement('button');
                btn.className = 'topping';
                btn.type = 'button';
                btn.id = n;

                btn.appendChild(img);
                btn.appendChild(span);

                btn.onclick = toppingOnClick;

                /* var btnDiv = document.createElement('div');
                 btnDiv.className = "topping";
                 btnDiv.id = n;

                 btnDiv.appendChild(img);
                 btnDiv.appendChild(span);

                 btnDiv.onclick = toppingOnClick;*/


                document.querySelector('#toppingsChoiceForm').appendChild(btn);

            }
        }
    }

    var selectedToppings = [];

    function clickActive(node) {
        var name = node.id;
        if (selectedToppings.includes(name)) {
            selectedToppings.splice(selectedToppings.indexOf(name), 1);
            node.classList.remove("active");
            return;
        }

        node.classList.add("active");
        selectedToppings.push(name);
    }

    function toppingOnClick(n) {
        var tagName = n.target.tagName;

        if (tagName === "BUTTON") {
            clickActive(n.target);
        } else {
            clickActive(n.target.parentNode);
        }
    }

    window.addEventListener('DOMContentLoaded', () => {
        // 这样别人看到这一段代码就知道我现在在干什么，如果另外一个人要维护的话，他就知道去哪里维护toppingsChoiceForm了
        initializeToppingsChoiceForm();
    });
</script>

<body>
    <section class="pizzaCreatorMainViewer">
        <h1>Pizza Creator</h1>
        <!--viewer section-->
        <section class="pizzaViewer">
            <div class="pizza">
                <div class="pizzaBoard">
                    <img src="assets/board.svg" alt="None">
                </div>
                <div class="pizzaBase">
                    <img src="assets/base.svg" alt="none">
                </div>
                <div class="pizzaToppings">
                    <img src="assets/toppings/anchovies.svg" alt="none">
                </div>
                <div class="pizzaToppingsLeft">
                    <img src="assets/toppings/anchovies.svg" alt="none">
                </div>
                <div class="pizzaToppingsRight">
                    <img src="assets/toppings/anchovies.svg" alt="none">
                </div>
            </div>
        </section>
        <!--form sction-->
        <section class="form">
            <form>
                <!--enter details section-->
                <section>
                    <h2>Enter your details</h2>
                    <div class="detailsContainer">
                        <div class="detail">
                            <label for="name">NAME</label>
                            <input id="name" type="text" name="name">
                        </div>
                        <div class="detail">
                            <label for="email">EMAIL</label>
                            <input id="email" type="text" name="name">
                        </div>
                        <div class="detail">
                            <label for="confirmemail">CONFIRM EMAIL</label>
                            <input id="confirmemail" type="text" name="name">
                        </div>
                        <div class="detail">
                            <label for="address">ADDRESS</label>
                            <input id="address" type="text" name="name">
                        </div>
                        <div class="detail">
                            <label for="postcode">POSTCODE</label>
                            <input id="postcode" type="text" name="name">
                        </div>
                        <div class="detail">
                            <label for="contact">CONTACT NUMBER</label>
                            <input id="contact" type="text" name="name">
                        </div>
                    </div>
                </section>
                <!--choose toppings section-->
                <section>
                    <h2>Choosing your toppings</h2>
                    <div class="toppingContainer" id="toppingsChoiceForm">
                        <!-- <button class="topping" type="button" id="anchovy">
                            <img src="./assets/toppings/anchovy.svg" alt="none">
                            <span>anchovy</span>
                        </button>
                        <button class="topping" type="button" id="anchovy">
                            <img src="./assets/toppings/anchovy.svg" alt="none">
                            <span>anchovy</span>
                        </button>
                        <button class="topping" type="button" id="anchovy">
                            <img src="./assets/toppings/anchovy.svg" alt="none">
                            <span>anchovy</span>
                        </button>
                        <button class="topping" type="button" id="anchovy">
                            <img src="./assets/toppings/anchovy.svg" alt="none">
                            <span>anchovy</span>
                        </button>
                        <button class="topping" type="button" id="anchovy">
                            <img src="./assets/toppings/anchovy.svg" alt="none">
                            <span>anchovy</span>
                        </button>
                        <button class="topping" type="button" id="anchovy">
                            <img src="./assets/toppings/anchovy.svg" alt="none">
                            <span>anchovy</span>
                        </button>
                        <button class="topping" type="button" id="anchovy">
                            <img src="./assets/toppings/anchovy.svg" alt="none">
                            <span>anchovy</span>
                        </button>
                        <button class="topping" type="button" id="anchovy">
                            <img src="./assets/toppings/anchovy.svg" alt="none">
                            <span>anchovy</span>
                        </button>
                        <button class="topping" type="button" id="anchovy">
                            <img src="./assets/toppings/anchovy.svg" alt="none">
                            <span>anchovy</span>
                        </button>
                        <button class="topping" type="button" id="anchovy">
                            <img src="./assets/toppings/anchovy.svg" alt="none">
                            <span>anchovy</span>
                        </button>
                        <button class="topping" type="button" id="anchovy">
                            <img src="./assets/toppings/anchovy.svg" alt="none">
                            <span>anchovy</span>
                        </button>
                        <button class="topping" type="button" id="anchovy">
                            <img src="./assets/toppings/anchovy.svg" alt="none">
                            <span>anchovy</span>
                        </button> -->
                    </div>
                </section>
                <!--summary section-->
                <section>
                    <h2>Summary</h2>
                    <ul class="items">
                        <li>
                            <span>$9.99</span>
                            <span>Pizza</span>
                            <ul>
                                <li>
                                    <span>$0.99</span>
                                    <span>Onion</span>
                                </li>
                                <li>
                                    <span>$0.99</span>
                                    <span>Mushroom</span>
                                </li>
                                <li>
                                    <span>$0.99</span>
                                    <span>Bacon</span>
                                </li>
                                <li>
                                    <span>$0.99</span>
                                    <span>Anchovy</span>
                                </li>
                            </ul>
                        </li>
                    </ul>
                    <hr>
                    <p class="totalPrice">
                        Total Price: $13.86
                    </p>
                    <div>
                        <button type="submit">Place order</button>
                    </div>
                </section>
            </form>
        </section>
    </section>
</body>

</html>